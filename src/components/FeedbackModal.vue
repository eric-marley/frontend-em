<template>
  <transition name="modal-fade">
    <b-modal
      hide-footer
      hide-header
      v-model="showModal"
      id="modal-center"
      centered
    >
      <div class="close-icon">
        <svg
          @click="handleClose"
          class="modal-close-icon"
          width="23"
          height="23"
          viewBox="0 0 23 23"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M22.1846 11.1921C22.1846 10.4421 22.1143 9.70776 21.9736 8.98901C21.8174 8.27026 21.5986 7.58276 21.3174 6.92651C21.0518 6.27026 20.7158 5.64526 20.3096 5.05151C19.9189 4.45776 19.4736 3.91089 18.9736 3.41089C18.4736 2.92651 17.9268 2.4812 17.333 2.07495C16.7549 1.68433 16.1377 1.34839 15.4814 1.06714C14.8252 0.785889 14.1377 0.574951 13.4189 0.434326C12.7002 0.278076 11.958 0.199951 11.1924 0.199951C10.4268 0.199951 9.68457 0.278076 8.96582 0.434326C8.24707 0.574951 7.55957 0.785889 6.90332 1.06714C6.24707 1.34839 5.62988 1.68433 5.05176 2.07495C4.45801 2.4812 3.91113 2.92651 3.41113 3.41089C2.91113 3.91089 2.46582 4.45776 2.0752 5.05151C1.66895 5.64526 1.3252 6.27026 1.04395 6.92651C0.77832 7.58276 0.567383 8.27026 0.411133 8.98901C0.270508 9.70776 0.200195 10.4421 0.200195 11.1921C0.200195 11.9578 0.270508 12.7 0.411133 13.4187C0.567383 14.1375 0.77832 14.825 1.04395 15.4812C1.3252 16.1375 1.66895 16.7625 2.0752 17.3562C2.46582 17.9343 2.91113 18.4734 3.41113 18.9734C3.91113 19.4734 4.45801 19.9187 5.05176 20.3093C5.62988 20.7156 6.24707 21.0593 6.90332 21.3406C7.55957 21.6218 8.24707 21.8328 8.96582 21.9734C9.68457 22.1296 10.4268 22.2078 11.1924 22.2078C11.958 22.2078 12.7002 22.1296 13.4189 21.9734C14.1377 21.8328 14.8252 21.6218 15.4814 21.3406C16.1377 21.0593 16.7549 20.7156 17.333 20.3093C17.9268 19.9187 18.4736 19.4734 18.9736 18.9734C19.4736 18.4734 19.9189 17.9343 20.3096 17.3562C20.7158 16.7625 21.0518 16.1375 21.3174 15.4812C21.5986 14.825 21.8174 14.1375 21.9736 13.4187C22.1143 12.7 22.1846 11.9578 22.1846 11.1921ZM20.1924 11.1921C20.1924 12.4421 19.958 13.614 19.4893 14.7078C19.0205 15.8015 18.3799 16.7546 17.5674 17.5671C16.7393 18.3796 15.7783 19.0203 14.6846 19.489C13.6064 19.9578 12.4424 20.1921 11.1924 20.1921C9.94238 20.1921 8.77051 19.9578 7.67676 19.489C6.59863 19.0203 5.64551 18.3796 4.81738 17.5671C4.00488 16.7546 3.36426 15.8015 2.89551 14.7078C2.42676 13.614 2.19238 12.4421 2.19238 11.1921C2.19238 9.95776 2.42676 8.7937 2.89551 7.69995C3.36426 6.6062 4.00488 5.65308 4.81738 4.84058C5.64551 4.02808 6.59863 3.38745 7.67676 2.9187C8.77051 2.43433 9.94238 2.19214 11.1924 2.19214C12.4424 2.19214 13.6064 2.43433 14.6846 2.9187C15.7783 3.38745 16.7393 4.02808 17.5674 4.84058C18.3799 5.65308 19.0205 6.6062 19.4893 7.69995C19.958 8.7937 20.1924 9.95776 20.1924 11.1921ZM7.48926 8.89526L9.78613 11.1921L7.48926 13.489C7.28613 13.6921 7.18457 13.9343 7.18457 14.2156C7.18457 14.4812 7.28613 14.7078 7.48926 14.8953C7.67676 15.0984 7.91113 15.2 8.19238 15.2C8.47363 15.2 8.70801 15.0984 8.89551 14.8953L11.1924 12.6218L13.4893 14.8953C13.6768 15.0984 13.9111 15.2 14.1924 15.2C14.4736 15.2 14.708 15.0984 14.8955 14.8953C15.0986 14.7078 15.2002 14.4812 15.2002 14.2156C15.2002 13.9343 15.0986 13.6921 14.8955 13.489L12.5986 11.1921L14.8955 8.89526C15.0986 8.70776 15.2002 8.4812 15.2002 8.21558C15.2002 7.93433 15.0986 7.69214 14.8955 7.48901C14.708 7.30151 14.4736 7.20776 14.1924 7.20776C13.9111 7.20776 13.6768 7.30151 13.4893 7.48901L11.1924 9.78589L8.89551 7.48901C8.70801 7.30151 8.47363 7.20776 8.19238 7.20776C7.91113 7.20776 7.67676 7.30151 7.48926 7.48901C7.28613 7.69214 7.18457 7.93433 7.18457 8.21558C7.18457 8.4812 7.28613 8.70776 7.48926 8.89526Z"
            fill="#C6C6C6"
          />
        </svg>
      </div>
      <div class="feedback-modal-content">
        <svg
          class="modal-figure"
          width="67"
          height="67"
          viewBox="0 0 67 67"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M45.9707 66.9584H21.029C20.1165 66.9584 19.5082 66.6542 18.8998 66.0459L0.954004 48.1001C0.34567 47.7959 0.0415039 46.8834 0.0415039 45.9709V21.0292C0.0415039 20.1167 0.34567 19.5084 0.954004 18.9001L18.8998 0.954248C19.204 0.345915 20.1165 0.041748 21.029 0.041748H46.2748C47.1873 0.041748 47.7957 0.345915 48.404 0.954248L66.3498 18.9001C66.654 19.2042 66.9582 20.1167 66.9582 21.0292V46.2751C66.9582 47.1876 66.654 47.7959 66.0457 48.4042L48.0998 66.3501C47.7957 66.6542 46.8832 66.9584 45.9707 66.9584ZM22.2457 60.8751H45.0582L61.179 44.7542V22.2459L44.754 6.12508H22.2457L6.12484 22.2459V45.0584L22.2457 60.8751Z"
            fill="#FF4F00"
          />
          <path
            d="M33.4998 36.5417C31.6748 36.5417 30.4582 35.3251 30.4582 33.5001V21.3334C30.4582 19.5084 31.6748 18.2917 33.4998 18.2917C35.3248 18.2917 36.5415 19.5084 36.5415 21.3334V33.5001C36.5415 35.3251 35.3248 36.5417 33.4998 36.5417Z"
            fill="#FF4F00"
          />
          <path
            d="M33.4998 48.7084C32.5873 48.7084 31.979 48.4042 31.3707 47.7959C30.7623 47.1876 30.4582 46.5792 30.4582 45.6667C30.4582 45.3626 30.4582 44.7542 30.7623 44.4501C31.0665 44.1459 31.0665 43.8417 31.3707 43.5376C32.2832 42.6251 33.4998 42.3209 34.7165 42.9292C35.0207 42.9292 35.0207 42.9292 35.3248 43.2334C35.3248 43.2334 35.629 43.5376 35.9332 43.5376C36.2373 43.8417 36.5415 44.1459 36.5415 44.4501C36.5415 44.7542 36.5415 45.3626 36.5415 45.6667C36.5415 45.9709 36.5415 46.5792 36.2373 46.8834C35.9332 47.1876 35.9332 47.4917 35.629 47.7959C35.0207 48.4042 34.4123 48.7084 33.4998 48.7084Z"
            fill="#FF4F00"
          />
        </svg>
        <span v-html="message" data-cy="modal-message" class="mt-4" />
      </div>
    </b-modal>
  </transition>
</template>

<script>
import Vue from "vue";
export default {
  name: "FeedbackModal",
  props: {
    message: {
      type: String,
      required: true,
    },
    handleClose: {
      type: Function,
      required: true,
    },
    open: {
      type: Vue,
      required: true,
      default: false,
    },
  },
  data() {
    return {
      showModal: false,
    };
  },
  mounted() {
    const handleModalState = this.handleModalState;
    this.open.$on("open", function () {
      return handleModalState(true);
    });
    this.open.$on("close", function () {
      return handleModalState(false);
    });
  },
  methods: {
    handleModalState: function (state) {
      this.showModal = state;
    },
  },
};
</script>

<style lang="scss">
.feedback-modal-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.modal-content {
  border-radius: 12px;
}

.close-icon {
  text-align: right;

  &:hover {
    cursor: pointer;
  }
}
</style>